# –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

## [–í–µ—Ä—Å–∏—è 3.2.1] - 2025-12-07

### üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–æ–ª–µ–π –ø—Ä–∏ –ª–æ–≥–∏–Ω–µ
  - –†–æ–ª—å —Ç–µ–ø–µ—Ä—å –≤—Å–µ–≥–¥–∞ –±–µ—Ä–µ—Ç—Å—è –∏–∑ `/api/auth/me` (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫)
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —Ä–æ–ª–µ–π
  - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è `engineer`, –∞ –Ω–µ `admin`
  - –£–±—Ä–∞–Ω fallback –Ω–∞ —Ä–æ–ª—å –∏–∑ –æ—Ç–≤–µ—Ç–∞ –ª–æ–≥–∏–Ω–∞

#### Backend
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `cryptography==42.0.5` –¥–ª—è offline-—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ `_get_equipment_schemas()` –∏ `_get_dictionaries()` –¥–ª—è offline-–ø–∞–∫–µ—Ç–æ–≤
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ñ–∞–π–ª–æ–≤

#### –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
- –í—ã–ø–æ–ª–Ω–µ–Ω—ã –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è offline-first —Ä–µ–∂–∏–º–∞
- –°–æ–∑–¥–∞–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ `offline_tasks`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –≤ `inspections` –∏ `users`

### üì¶ –î–µ–ø–ª–æ–π
- Backend —É—Å–ø–µ—à–Ω–æ –∑–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- Frontend –æ–±–Ω–æ–≤–ª–µ–Ω
- –í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

## [–í–µ—Ä—Å–∏—è 3.2.0] - 2025-12-04

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é

**–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è:**
- **Enterprise (–ü—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–µ)** ‚Üí **Branch (–§–∏–ª–∏–∞–ª)** ‚Üí **Workshop (–¶–µ—Ö)** ‚Üí **EquipmentType (–¢–∏–ø –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è)** ‚Üí **Equipment (–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ)**

**–ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª–∏–∞–ª–∞–º–∏ (Branch) –º–µ–∂–¥—É –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è–º–∏ –∏ —Ü–µ—Ö–∞–º–∏
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∏–Ω–∂–µ–Ω–µ—Ä–∞–º –Ω–∞ –ª—é–±–æ–º —É—Ä–æ–≤–Ω–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏:
  - –ù–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è (Enterprise) - –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º—É –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—é
  - –ù–∞ —É—Ä–æ–≤–Ω–µ —Ñ–∏–ª–∏–∞–ª–∞ (Branch) - –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º—É —Ñ–∏–ª–∏–∞–ª—É
  - –ù–∞ —É—Ä–æ–≤–Ω–µ —Ü–µ—Ö–∞ (Workshop) - –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º—É —Ü–µ—Ö—É
  - –ù–∞ —É—Ä–æ–≤–Ω–µ —Ç–∏–ø–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è (EquipmentType) - –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º—É —Ç–∏–ø—É –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
  - –ù–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è (Equipment) - –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –µ–¥–∏–Ω–∏—Ü–µ
- –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –≤ –≤–∏–¥–µ –¥–µ—Ä–µ–≤–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–∞—Å–∫—Ä—ã—Ç–∏—è/—Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è —É–∑–ª–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞: –¥–æ—Å—Ç—É–ø –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ –¥–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –¥–æ—á–µ—Ä–Ω–∏–º —ç–ª–µ–º–µ–Ω—Ç–∞–º

#### –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π –≤ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç

**–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–æ–≤:**
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π (inspections) –≤ –æ–¥–∏–Ω —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç
- –ü–æ–ª–µ `inspection_ids` –≤ –º–æ–¥–µ–ª–∏ `Report` —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π
- –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ç—á–µ—Ç–æ–≤ (`ReportGenerator`) –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π
- –í—Å–µ –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –µ–¥–∏–Ω–æ–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º –æ—Ç—á–µ—Ç–µ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∫–∞–∂–¥–æ–≥–æ

#### –£–ª—É—á—à–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º

**–û–±–Ω–æ–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª "–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ" (`EquipmentManagement.tsx`):**
- –î—Ä–µ–≤–æ–≤–∏–¥–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è —Å –∏–∫–æ–Ω–∫–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è
- –ö–Ω–æ–ø–∫–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ –∫–∞–∂–¥–æ–º —É–∑–ª–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏
- –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∏–ª–∏–∞–ª–∞ —Å –ø–æ–ª—è–º–∏: –Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–æ–¥, –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–µ, –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ü–µ—Ö–∞: –¥–æ–±–∞–≤–ª–µ–Ω –≤—ã–±–æ—Ä —Ñ–∏–ª–∏–∞–ª–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –£–ª—É—á—à–µ–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∏ –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### Backend

**–ù–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ (`backend/models.py`):**
- `Branch` - –º–æ–¥–µ–ª—å —Ñ–∏–ª–∏–∞–ª–∞ —Å –ø–æ–ª—è–º–∏: id, name, code, client_id, location, description
- `ClientEngineerAccess` - –¥–æ—Å—Ç—É–ø –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ –∫ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è–º
- `BranchEngineerAccess` - –¥–æ—Å—Ç—É–ø –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ –∫ —Ñ–∏–ª–∏–∞–ª–∞–º
- `EquipmentTypeEngineerAccess` - –¥–æ—Å—Ç—É–ø –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ –∫ —Ç–∏–ø–∞–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å `Report`: –ø–æ–ª–µ `inspection_ids` (JSONB) –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å `Workshop`: –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `branch_id` –¥–ª—è —Å–≤—è–∑–∏ —Å —Ñ–∏–ª–∏–∞–ª–æ–º

**–ù–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (`backend/main.py`):**
- `POST /api/branches` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–∏–ª–∏–∞–ª–∞
- `GET /api/branches` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ñ–∏–ª–∏–∞–ª–æ–≤ (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ client_id)
- `POST /api/clients/{client_id}/engineer-access` - –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—é
- `POST /api/branches/{branch_id}/engineer-access` - –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∏–ª–∏–∞–ª—É
- `POST /api/equipment-types/{equipment_type_id}/engineer-access` - –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ç–∏–ø—É –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- `POST /api/reports/generate` - –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö `inspection_ids`
- `GET /api/workshops` - –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ `branch_id`
- `POST /api/workshops` - –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ `branch_id`

**–û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –¥–æ—Å—Ç—É–ø–∞ (`backend/auth.py`):**
- `check_equipment_access()` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö –∏–µ—Ä–∞—Ä—Ö–∏–∏:
  1. –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é
  2. –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ —Ç–∏–ø –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
  3. –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ —Ü–µ—Ö
  4. –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ —Ñ–∏–ª–∏–∞–ª (–µ—Å–ª–∏ —Ü–µ—Ö –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ñ–∏–ª–∏–∞–ª—É)
  5. –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–µ (–µ—Å–ª–∏ —Ñ–∏–ª–∏–∞–ª –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—é)
- `get_user_accessible_equipment_ids()` - –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ —Å–æ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏

**–ù–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ (`backend/create_branches_tables.py`):**
- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü: `branches`, `client_engineer_access`, `branch_engineer_access`, `equipment_type_engineer_access`
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ `branch_id` –≤ —Ç–∞–±–ª–∏—Ü—ã `workshops` –∏ `equipment` (–µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- –ú–∏–≥—Ä–∞—Ü–∏—è `inspection_id` ‚Üí `inspection_ids` –≤ —Ç–∞–±–ª–∏—Ü–µ `reports`

#### Frontend

**–û–±–Ω–æ–≤–ª–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `EquipmentManagement.tsx`:**
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã: `Branch`, –æ–±–Ω–æ–≤–ª–µ–Ω `Workshop` (–¥–æ–±–∞–≤–ª–µ–Ω–æ `branch_id`)
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è: `branches`, `showBranchForm`, `branchFormData`
- –§—É–Ω–∫—Ü–∏—è `loadBranches()` - –∑–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ —Ñ–∏–ª–∏–∞–ª–æ–≤
- –§—É–Ω–∫—Ü–∏—è `handleBranchSubmit()` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–∏–ª–∏–∞–ª–∞
- –§—É–Ω–∫—Ü–∏—è `buildHierarchy()` - –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏ —Å —É—á–µ—Ç–æ–º —Ñ–∏–ª–∏–∞–ª–æ–≤
- –§—É–Ω–∫—Ü–∏—è `renderTreeNode()` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–∑–ª–æ–≤ –¥–µ—Ä–µ–≤–∞ —Å –∏–∫–æ–Ω–∫–∞–º–∏ –∏ –∫–Ω–æ–ø–∫–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
- –§—É–Ω–∫—Ü–∏—è `handleAccessSubmit()` - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ –ª—é–±–æ–º —É—Ä–æ–≤–Ω–µ
- –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∏–ª–∏–∞–ª–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ü–µ—Ö–∞: –¥–æ–±–∞–≤–ª–µ–Ω –≤—ã–±–æ—Ä —Ñ–∏–ª–∏–∞–ª–∞

### üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–ù–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã:**
- `branches` - —Ñ–∏–ª–∏–∞–ª—ã –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–π
- `client_engineer_access` - —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è–º
- `branch_engineer_access` - —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ —Ñ–∏–ª–∏–∞–ª–∞–º
- `equipment_type_engineer_access` - —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ —Ç–∏–ø–∞–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:**
- `workshops` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ `branch_id` (UUID, FK ‚Üí branches.id)
- `equipment` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ `branch_id` (UUID, FK ‚Üí branches.id, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `reports` - –∫–æ–ª–æ–Ω–∫–∞ `inspection_id` –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ `inspection_ids` (JSONB, —Å–ø–∏—Å–æ–∫ UUID)

### üöÄ –î–µ–ø–ª–æ–π

**–ù–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è:**
- `deploy-hierarchical-access.bat` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π:
  - –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ backend —Ñ–∞–π–ª–æ–≤ (main.py, models.py, auth.py, create_branches_tables.py)
  - –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ frontend —Ñ–∞–π–ª–æ–≤ (EquipmentManagement.tsx)
  - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü —á–µ—Ä–µ–∑ `create_branches_tables.py`
  - –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
  - –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ frontend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

### üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π (admin, chief_operator, operator, engineer)
- –î–æ—Å—Ç—É–ø –∫ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è admin, chief_operator, operator
- –ò–Ω–∂–µ–Ω–µ—Ä—ã –Ω–µ –º–æ–≥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º–∏ (–∫–∞–∫ –Ω–∞ —Å–∞–π—Ç–µ, —Ç–∞–∫ –∏ –≤ –º–æ–±–∏–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö –∏–µ—Ä–∞—Ä—Ö–∏–∏ –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –æ–ø–µ—Ä–∞—Ü–∏–π

### üì± –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã –¥–æ—Å—Ç—É–ø–∞ (–∏–Ω–∂–µ–Ω–µ—Ä—ã –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø–Ω–æ–µ –∏–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –≤—Ö–æ–¥–æ–º –ø–æ–¥ —Ä–∞–∑–Ω—ã–º–∏ —Ä–æ–ª—è–º–∏
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ (–Ω–µ –º–æ–≥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å/–∏–∑–º–µ–Ω—è—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤)

### üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫

- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ —Å `nullslast` –≤ –∑–∞–ø—Ä–æ—Å–µ `/api/inspections`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å —Ç–∏–ø–∞–º–∏ –≤ TypeScript (–¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–æ–ª—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å `undefined` –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `buildHierarchy()`

### üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `CHANGELOG.md` —Å –ø–æ–ª–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é

---

## [–í–µ—Ä—Å–∏—è 3.1.0] - 2024-12-XX

### –ò–∑–º–µ–Ω–µ–Ω–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º –∫ —Ü–µ—Ö–∞–º
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é
- –£–ª—É—á—à–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –≤—Ö–æ–¥–æ–º –≤ –º–æ–±–∏–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (–≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤—Ö–æ–¥–∏–ª–∏ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã)
- –î–æ–±–∞–≤–ª–µ–Ω—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ (–Ω–µ –º–æ–≥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º–∏)

---

## [–í–µ—Ä—Å–∏—è 3.0.0] - 2024-XX-XX

### –ò–∑–º–µ–Ω–µ–Ω–∏—è
- –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º
- –°–∏—Å—Ç–µ–º–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤ –∏ —ç–∫—Å–ø–µ—Ä—Ç–∏–∑
- –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤
- –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º–∏ –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏

---

*–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö —Å–º. –∫–æ–º–º–∏—Ç—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.*

